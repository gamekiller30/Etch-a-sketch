<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Main</title>

  <!-- font awesome cdn link  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

  <!-- custom css file link  -->
  <link rel="stylesheet" href="index.css">


</head>

<body>

<div class="header">Etch-a-Sketch</div>




<div class="bg-wrapper">

  <div class="Option-flex">

    <div class="op-h">Choose one of this option down below:</div>
  
  <button id="grid-create">Create Grid</button>
  <button id="grid-clear">Clear Grid</button>
  
  </div>


<div class="div-container-flex">

</div>
</div>



<script>



const container = document.querySelector(".div-container-flex");
const grid_btn = document.querySelector("#grid-create");
const clear_btn = document.querySelector("#grid-clear");

let div;

const alldivs = [];

grid_btn.addEventListener("click", createGrid);
clear_btn.addEventListener("click", clear);


let width = container.clientWidth;
let height = container.clientHeight;

console.log(width)
console.log(height)


function Col (colnum) {
   r = Math.floor(Math.random() * colnum);
   g = Math.floor(Math.random() * colnum);
   b = Math.floor(Math.random() * colnum);

return `rgb(${r},${g},${b})`;

}




function Hovercol (e){
  e.target.style.backgroundColor = Col(255);
  console.log("hovered");
}


function createGrid(){

  container.innerHTML = "";

 let gridrow = prompt();

if(gridrow <= 100){

  for(let i = 0; i < gridrow; i++){
  for(let k = 0; k < gridrow; k++){

div = document.createElement("div");
div.classList.add("box");
div.style.width = width / gridrow + 'px'; 
div.style.height = height / gridrow + 'px';
div.addEventListener("mouseover", Hovercol);

container.appendChild(div);
alldivs.push(div);
console.log("div created");

}
  }


}else{
  console.log("Number cannot be higher than 100");
}

}

function clear(){

  alldivs.forEach( function (boxitem){
 //boxitem.removeEventListener("mouseover", Hovercol);
    boxitem.style.backgroundColor = "white";
  } );

}







</script>

</body>

</html>

